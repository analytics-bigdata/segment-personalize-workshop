{
  "version":"2.0",
  "metadata":{
    "apiVersion":"2018-03-22",
    "endpointPrefix":"personalize-events",
    "jsonVersion":"1.1",
    "protocol":"rest-json",
    "serviceFullName":"Amazon Personalize Events",
    "serviceId":"Personalize Events",
    "signatureVersion":"v4",
    "signingName":"personalize",
    "uid":"personalize-events-2018-03-22"
  },
  "operations":{
    "PutEvents":{
      "name":"PutEvents",
      "http":{
        "method":"POST",
        "requestUri":"/events"
      },
      "input":{"shape":"PutEventsRequest"},
      "errors":[
        {"shape":"InvalidInputException"}
      ],
      "documentation":"<p>Records user interaction event data.</p>"
    }
  },
  "shapes":{
    "Context":{
      "type":"map",
      "key":{"shape":"StringType"},
      "value":{"shape":"StringType"},
      "max":100
    },
    "Date":{"type":"timestamp"},
    "ErrorMessage":{"type":"string"},
    "Event":{
      "type":"structure",
      "required":[
        "eventId",
        "eventType",
        "properties",
        "sentAt"
      ],
      "members":{
        "eventId":{
          "shape":"StringType",
          "documentation":"<p>An ID associated with the event.</p>"
        },
        "eventType":{
          "shape":"StringType",
          "documentation":"<p>The type of event. This property corresponds to the <code>event_type</code> field of the event-interactions schema.</p>"
        },
        "properties":{
          "shape":"EventProperties",
          "documentation":"<p>A string map of event-specific data that you might choose to record. For example, if a user chooses a shoe icon on your site, you might send size, brand, and color information of the shoe.</p> <p>Each item in the map consists of one or two key-value pairs. For example,</p> <p> <code>{\"id\": \"itemid1\"}</code> </p> <p> <code>{\"id\": \"itemid1\", \"value\": \"itemname\"}</code> </p> <p>The <code>id</code> and <code>value</code> keys correspond to the <code>item_id</code> and <code>event_value</code> fields of the event-interactions schema.</p> <p>When using the JavaScript SDK, two special event types are available:</p> <ul> <li> <p>ListView</p> <p>For this event type, you use <code>items</code> as the key with an array of objects as the value (each object has one or more key-value pairs). For example,</p> <p> <code>{items: [{\"id\": \"item1\", \"value\":\"value1\"}, {...}]}</code> </p> </li> <li> <p>MediaAutoTrack</p> </li> </ul>"
        },
        "sentAt":{
          "shape":"Date",
          "documentation":"<p>The timestamp on the client side when the event occurred.</p>"
        },
        "context":{
          "shape":"Context",
          "documentation":"<p>Provides event context information as a key-value pair. For example, browser and version used.</p>"
        }
      },
      "documentation":"<p>Represents user interaction event information.</p> <p/>"
    },
    "EventList":{
      "type":"list",
      "member":{"shape":"Event"},
      "max":100,
      "min":1
    },
    "EventProperties":{"type":"blob"},
    "InvalidInputException":{
      "type":"structure",
      "members":{
        "message":{"shape":"ErrorMessage"}
      },
      "documentation":"<p>Provide a valid value for the field or parameter.</p>",
      "error":{"httpStatusCode":400},
      "exception":true
    },
    "PutEventsRequest":{
      "type":"structure",
      "required":[
        "trackingId",
        "sessionId",
        "eventList"
      ],
      "members":{
        "trackingId":{
          "shape":"StringType",
          "documentation":"<p>The tracking ID for the event. The ID is generated by a call to .</p>"
        },
        "userId":{
          "shape":"StringType",
          "documentation":"<p>The user associated with the event.</p>"
        },
        "sessionId":{
          "shape":"StringType",
          "documentation":"<p>The session ID associated with the user's visit.</p>"
        },
        "eventList":{
          "shape":"EventList",
          "documentation":"<p>A list of event data from the session.</p>"
        }
      }
    },
    "StringType":{
      "type":"string",
      "max":256
    }
  },
  "documentation":"<p/>"
}
